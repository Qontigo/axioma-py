<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CommonBase, EntityBase, TemplatedEntityBase, Enumbase and Collections &mdash; axiomapy 0+untagged.183.g6c87794.dirty documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"TeX": {"equationNumbers": {"autoNumber": "AMS", "useLabelIds": true}}, "tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sessions Package" href="../sessions.html" />
    <link rel="prev" title="AxiomaPy Direct Access" href="with_axiomaapi.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            axiomapy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Examples and Use Cases:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../examples2.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../examples2.html#instructions-for-running-examples">Instructions for running examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="with_sessions.html">Sessions</a></li>
<li class="toctree-l3"><a class="reference internal" href="with_axiomaapi.html">AxiomaAPI</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Developer Base Class Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Architecture/Design">Architecture/Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="#EnumBase">EnumBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#EntityBase">EntityBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#TemplatedEntityBase">TemplatedEntityBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Generic-Collections---Mapping-and-List">Generic Collections - Mapping and List</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Packages:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sessions.html">Sessions Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../axiomapyapi.html">AxiomaAPI Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../odatafilterhelpers.html">oDataFilterHelpers</a></li>
</ul>
<p class="caption"><span class="caption-text">Endpoints:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../endpoints.html">Axiomarisk endpoints covered by axioma-py</a></li>
</ul>
<p class="caption"><span class="caption-text">Other:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">axiomapy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../examples2.html">Examples</a></li>
      <li class="breadcrumb-item active">CommonBase, EntityBase, TemplatedEntityBase, Enumbase and Collections</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/nb_examples/with_entitybase.ipynb" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="CommonBase,-EntityBase,-TemplatedEntityBase,-Enumbase-and-Collections">
<h1>CommonBase, EntityBase, TemplatedEntityBase, Enumbase and Collections<a class="headerlink" href="#CommonBase,-EntityBase,-TemplatedEntityBase,-Enumbase-and-Collections" title="Permalink to this headline">¶</a></h1>
<p>The following examples illustrate the functionality and usage of the base classes in constructing classes to represent API entities. Unless contributing to the package this should be considered for information only and is not required to follow any other examples.</p>
<div class="section" id="Overview">
<h2>Overview<a class="headerlink" href="#Overview" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The goal of the axiomapy package is to provide a set of classes and associated methods to faciliate working with REST API. The intended benefits and goals of this package are:</div>
<div class="line">* to provide a more intuitive interface for users less familiar with the API to increase usage</div>
<div class="line">* allow developers to work with json/dict representations interchangeably with instances where more convient</div>
<div class="line">* improve the developer and API user’s experience</div>
<div class="line">* reduce dependancy on external documentation</div>
<div class="line">* package more boiler plate code to reduce time to build applications</div>
<div class="line">* include comprehesive examples/tutorials on usage</div>
<div class="line">* include examples/art of the possible to help business users leverage the API or better understand the benefit</div>
<div class="line">* be easy to collaborate on</div>
</div>
<div class="line-block">
<div class="line">The core functional requirements of the package are * to have classes that capture the models of the API</div>
<div class="line">* supported nested models</div>
<div class="line">* move from the class instances to the dict representations passed or returned by the API and vice versa seamlessly.</div>
<div class="line">* support core user requirements; cloning, updating etc</div>
<div class="line">* provide a developer experience consistent with the language requirements - e.g. snake casing/PEP8 etc</div>
</div>
<p>A series of ‘abstract’ base classes are used to provide this core functionality and should be sub-classed when creating an API model class.</p>
</div>
<div class="section" id="Architecture/Design">
<h2>Architecture/Design<a class="headerlink" href="#Architecture/Design" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The sdk design has 4 distinct elements:</div>
<div class="line">1. Session: Manages all http requests to the remote app and triggers serialisation/deserialisation. Leverages requests Session and so can use existing connection pools etc.</div>
<div class="line">2. Context Manager: manages switching sessions between contexts (i.e. with blocks)</div>
<div class="line">3. Axiomaapi: Interface to the RESTful API via the current Session</div>
<div class="line">4. Entities: All the data models and methods associated with working with the remote resources. Any actions on resource resources are handled by the axioma api classes</div>
</div>
<div class="line-block">
<div class="line">For functional usage of the session/context refer to: <a class="reference internal" href="with_axiomaapi.html"><span class="doc">with_axiomaapi</span></a></div>
<div class="line">For functional usage axiomaapi refer to: <a class="reference internal" href="with_sessions.html"><span class="doc">with_sessions</span></a></div>
</div>
<p>The remainder of this notebook considers the entities.</p>
<div class="line-block">
<div class="line">There are various base classes, there are code examples of each below:</div>
<div class="line">* EnumBase - provides features for enumerations such as creation from strings, case insensitivty etc.</div>
</div>
<ul class="simple">
<li><p>CommonBase - Represents serialisable classes that are also cloneable.</p>
<ul>
<li><p>Used for classes that do not need to initialise directly from a response but should serialise as part of a request.</p></li>
<li><p>For example used as a base class in collections where the collection is initialised from an iterable of representations rather than directly.</p></li>
</ul>
</li>
<li><p>EntityBase(CommonBase) - apart from collections all classes subclass this abstract class.</p>
<ul>
<li><p>Provides methods to serialise to and from dict</p></li>
<li><p>Provides methods to update/replace contents</p></li>
<li><p>Provides dict like methods (get, update) and property/attribute access instance[‘property’], instance.property</p></li>
<li><p>Interrogates the subclass property’s type hints to manage nested entities and special data types when serialising</p></li>
<li><p>Handles translation between datamodel naming conventions (camel case) to python/PEP8 (snake case)</p></li>
</ul>
</li>
<li><p>TemplatedEntityBase(EntityBase) - used for represent entities that are presented via templates</p>
<ul>
<li><p>supports an explit mapping between class properties and the data model (template)</p></li>
<li><p>supports direct access to the content attributes from the upper level class</p></li>
</ul>
</li>
<li><p>EntityCollectionBase - a common base class for collections of entities arguably redundant</p></li>
<li><p>EntitySequence(MutableSequence[T], EntityCollectionBase) - Represents a non-keyed/mapped set of entities e.g. Identifiers</p></li>
<li><p>EntityMapping(MutableMapping[str, T], EntityCollectionBase) - Represents a dict like mapping of entities e.g. Portfolios</p></li>
</ul>
<p>Collections of entities could be managed reasonable easily with a simple list/dict but this would not support class methods However, since there value is not as great as other base classes they attempt to work interchangeably with list/tuple etc.</p>
</div>
<div class="section" id="EnumBase">
<h2>EnumBase<a class="headerlink" href="#EnumBase" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">Provides a common base for defining enumerations. Create a sample here for following examples.</div>
<div class="line">The EnumBase class allows case insensitive intitialisation and will serialise to json (required for sending to requests) though this should not be required</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">axiomapy.entitybase</span> <span class="kn">import</span> <span class="n">EnumBase</span>

<span class="k">class</span> <span class="nc">SampleEnum</span><span class="p">(</span><span class="n">EnumBase</span><span class="p">):</span>
    <span class="n">Value1</span> <span class="o">=</span> <span class="s2">&quot;Value1&quot;</span>
    <span class="n">Value2</span> <span class="o">=</span> <span class="s2">&quot;Value2&quot;</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="o">=</span> <span class="n">SampleEnum</span><span class="p">(</span><span class="s1">&#39;Value1&#39;</span><span class="p">)</span>
<span class="n">enum</span> <span class="o">=</span> <span class="n">SampleEnum</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">)</span>
<span class="n">enum</span> <span class="o">=</span> <span class="n">SampleEnum</span><span class="p">(</span><span class="s1">&#39;VALUE1&#39;</span><span class="p">)</span>

<span class="c1"># access the value</span>
<span class="n">enum</span><span class="o">.</span><span class="n">value</span>
<br/><br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The enum class does not serialise to json. The Enumbase subclasses str so it will.</span>
<span class="c1"># Since the enum will be identified and converted explicitly this should be unnecessary.</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">test</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">enum</span><span class="p">}</span>
<span class="n">str_test</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="n">str_test</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="EntityBase">
<h2>EntityBase<a class="headerlink" href="#EntityBase" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">Used in the representation of an API model.</div>
<div class="line">Rules for subclassing: * The model is reflected by the properties.</div>
<div class="line">* Type hints on the property getter help the class serialise properties correctly. * All access to the datamodel must be managed through the class properties. * All properties must be able to accept None (or the default value in the <strong>init</strong> function if not None) * Decorators on the properties enable extra hints for serialisation to be passed from the model class.</div>
</div>
<p>Create a sample class with properties of various types with the exception of those of type common base</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">axiomapy.entitybase</span> <span class="kn">import</span> <span class="n">EntityBase</span><span class="p">,</span> <span class="n">camel_case_translate</span><span class="p">,</span> <span class="n">do_not_clone</span><span class="p">,</span> <span class="n">do_not_serialise</span><span class="p">,</span> <span class="n">get_enum_value</span>
<span class="kn">from</span> <span class="nn">axiomapy.utils</span> <span class="kn">import</span> <span class="n">date_arg_fmt</span><span class="p">,</span> <span class="n">date_arg_parse</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">date</span>


<span class="n">sample_entity_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;date_field_str&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_datetime&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10T00:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enum_field&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;not_serialize_field&quot;</span><span class="p">:</span><span class="s2">&quot;Apples&quot;</span>

<span class="p">}</span>


<span class="k">class</span> <span class="nc">SampleEntity</span><span class="p">(</span><span class="n">EntityBase</span><span class="p">):</span>
    <span class="nd">@camel_case_translate</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">id_</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">date_field_str</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">date_field_date</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">date_field_datetime</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">enum_field</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SampleEnum</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">not_serialize_field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">id_</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date_field_str</span> <span class="o">=</span> <span class="n">date_field_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date_field_date</span> <span class="o">=</span> <span class="n">date_field_date</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date_field_datetime</span> <span class="o">=</span> <span class="n">date_field_datetime</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enum_field</span> <span class="o">=</span> <span class="n">enum_field</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">not_serialize_field</span> <span class="o">=</span> <span class="n">not_serialize_field</span>

    <span class="nd">@property</span>
    <span class="nd">@do_not_clone</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>

    <span class="nd">@id</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">date_field_str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_str</span>

    <span class="nd">@date_field_str</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">date_field_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_str</span> <span class="o">=</span> <span class="n">date_arg_fmt</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">date_field_date</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">date</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_date</span>

    <span class="nd">@date_field_date</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">date_field_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_date</span> <span class="o">=</span> <span class="n">date_arg_parse</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">date_field_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_datetime</span>

    <span class="nd">@date_field_datetime</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">date_field_datetime</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_date_field_datetime</span> <span class="o">=</span> <span class="n">date_arg_parse</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">T00:00:00&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enum_field</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SampleEnum</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enum_field</span>

    <span class="nd">@enum_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">enum_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SampleEnum</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enum_field</span> <span class="o">=</span> <span class="n">get_enum_value</span><span class="p">(</span><span class="n">SampleEnum</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="nd">@do_not_serialise</span>
    <span class="k">def</span> <span class="nf">not_serialize_field</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_not_serialize_field</span>

    <span class="nd">@not_serialize_field</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">not_serialize_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_not_serialize_field</span> <span class="o">=</span> <span class="n">value</span>
<br/><br/><br/><br/></pre></div>
</div>
</div>
<div class="section" id="Using-the-samples">
<h3>Using the samples<a class="headerlink" href="#Using-the-samples" title="Permalink to this headline">¶</a></h3>
<p>Create an instance directly. Translation of args to the <strong>init</strong> method is performed by the camel_case_translate wrapper</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># only required args</span>
<span class="n">new_sample</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># some optional args</span>
<span class="n">another_sample</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">date_field_str</span><span class="o">=</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span> <span class="n">enum_field</span><span class="o">=</span><span class="n">SampleEnum</span><span class="o">.</span><span class="n">Value2</span><span class="p">)</span>
<span class="c1"># camel case args</span>
<span class="n">camel_case_sample</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">enumField</span><span class="o">=</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="n">dateFieldDate</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>Create an instance from a dict representation</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_from_dict</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">sample_entity_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Accessing properties</p>
<div class="line-block">
<div class="line">Properties can be accessed via their camelCase or snake_case names.</div>
<div class="line">They can also accessed as dictionary keys and the get() method</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;new_sample has id: </span><span class="si">{</span><span class="n">new_sample</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;another_sample has date: </span><span class="si">{</span><span class="n">another_sample</span><span class="o">.</span><span class="n">date_field_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;another_sample date_field_str can also be accessed via dateFieldStr </span><span class="si">{</span><span class="n">another_sample</span><span class="o">.</span><span class="n">dateFieldStr</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;entities can be accessed in snakecase or camel case like a dict </span><span class="si">{</span><span class="n">another_sample</span><span class="p">[</span><span class="s1">&#39;dateFieldStr&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="sa">f</span><span class="s2">&quot; and with get method </span><span class="si">{</span><span class="n">another_sample</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dateFieldStr&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="How-the-accessors-works">
<h4>How the accessors works<a class="headerlink" href="#How-the-accessors-works" title="Permalink to this headline">¶</a></h4>
<p>When getting or setting a property the class property is resolved using the _translate_to_class_prop() method. The translation is automatic so the logic for translation exists on the base class. In the templatedEntity example the translation is class specific.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;date_field_datetime maps to prop: </span><span class="si">{</span><span class="n">SampleEntity</span><span class="o">.</span><span class="n">_translate_to_class_prop</span><span class="p">(</span><span class="s1">&#39;date_field_datetime&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;dateFieldDatetime maps to prop: </span><span class="si">{</span><span class="n">EntityBase</span><span class="o">.</span><span class="n">_translate_to_class_prop</span><span class="p">(</span><span class="s1">&#39;dateFieldDatetime&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Clone,-Update-and-Replace">
<h3>Clone, Update and Replace<a class="headerlink" href="#Clone,-Update-and-Replace" title="Permalink to this headline">¶</a></h3>
<div class="section" id="Cloning">
<h4>Cloning<a class="headerlink" href="#Cloning" title="Permalink to this headline">¶</a></h4>
<p>Cloning creates a new instance based on the object being cloned. A clone is performed by converting to and from a dict representation and updating from the source instance.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cloned_sample</span> <span class="o">=</span> <span class="n">sample_from_dict</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The do_not_clone decorator on the id property means cloned_sample has an id of </span><span class="si">{</span><span class="n">cloned_sample</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">cloned_sample_2</span> <span class="o">=</span> <span class="n">sample_from_dict</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">enum_field</span><span class="o">=</span><span class="s2">&quot;value2&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;overrides can be applied when cloning, cloned_sample_2 has enum_field of </span><span class="si">{</span><span class="n">cloned_sample_2</span><span class="o">.</span><span class="n">enum_field</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Update">
<h4>Update<a class="headerlink" href="#Update" title="Permalink to this headline">¶</a></h4>
<p>Can update from a dict or from an instance. Works as for the dict method update</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cloned_sample.id before update </span><span class="si">{</span><span class="n">cloned_sample</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">cloned_sample</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;cloned_sample.id before update </span><span class="si">{</span><span class="n">cloned_sample</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The full cloned_sample after update is:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">cloned_sample_2</span><span class="p">)</span>
<span class="n">cloned_sample_2</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sample_from_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The full cloned_sample_2 after update is:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">cloned_sample_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Replace">
<h4>Replace<a class="headerlink" href="#Replace" title="Permalink to this headline">¶</a></h4>
<p>The replace method makes the calling instance the same as the argument entity</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cloned_sample_2</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After replacing the sample is:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">cloned_sample_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Serialization">
<h3>Serialization<a class="headerlink" href="#Serialization" title="Permalink to this headline">¶</a></h3>
<p>Objects are serialised to a dict object which is valid to serialize to json (e.g. by requests)</p>
<p>Fields marked as do_not_serialize are ignored.</p>
<p>The to_dict() method has the following args translate - output camelCase (otherwise snake_case) cloning - action performed as part of cloning will check for do_not_clone decorator ignore_none - do not serialise properties with a value of None (i.e. those not set)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_to_serialize</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">sample_entity_dict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sample_to_serialize</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
<span class="c1"># for example without translating</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sample_to_serialize</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">translate</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<br/></pre></div>
</div>
</div>
<div class="section" id="How-Serialization-works">
<h4>How Serialization works<a class="headerlink" href="#How-Serialization-works" title="Permalink to this headline">¶</a></h4>
<p>Only class properties are serialized. Specific ways to treat properties are indicated by their return type hints on the getter. Additional decorators add control</p>
<p>There are a number of methods on the base class the show how the process works:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># show the properties that can be considered for serialization</span>
<span class="n">class_props</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="o">.</span><span class="n">class_properties</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The set of properties are: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">class_props</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The type of each property can be checked and then based on its type an action will be taken to prepare its value for serialisation:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prop_type_enums</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;prop: </span><span class="si">{</span><span class="n">prop</span><span class="si">}</span><span class="s2"> has type: </span><span class="si">{</span><span class="n">SampleEntity</span><span class="o">.</span><span class="n">_get_prop_type</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">prop</span> <span class="ow">in</span> <span class="n">class_props</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">prop_type_enums</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The following prop types are identified: * EnumType - will be converted as value.value * IterableEnumType - for each item converted as value.value * CommonBaseType - will call the to_dict() method * IterableCommonBaseType - for each item will call the to_dict() method * DictOfCommonBase - for each item in values() will call the to_dict() method * Date - will format to a str as yyyy-mm-dd using date_arg_fmt(value, format=“%Y-%m-%d”) * DateTime - will format to a str as yyyy-mm-ddT00:00:00
using date_arg_fmt(value, format=“%Y-%m-%dT00:00:00”) * OtherType - will return value unchanged.</p>
</div>
</div>
<div class="section" id="Nested-Entities">
<h3>Nested Entities<a class="headerlink" href="#Nested-Entities" title="Permalink to this headline">¶</a></h3>
<p>When the prop type is associated with a common base the entity of the property will itself be serialised</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">NestedEntity</span><span class="p">(</span><span class="n">EntityBase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">inner_entity</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">list_of_entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inner_entity</span> <span class="o">=</span> <span class="n">inner_entity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_of_entities</span> <span class="o">=</span> <span class="n">list_of_entities</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">inner_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SampleEntity</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inner_entity</span>

    <span class="nd">@inner_entity</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">inner_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inner_entity</span> <span class="o">=</span> <span class="n">SampleEntity</span><span class="o">.</span><span class="n">get_as_instance</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">list_of_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_of_entities</span>

    <span class="nd">@list_of_entities</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">list_of_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_list_of_entities</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_list_of_entities</span> <span class="o">=</span> <span class="p">[</span><span class="n">SampleEntity</span><span class="o">.</span><span class="n">get_as_instance</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>
<br/><br/><br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nested_entity_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;inner_entity&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;date_field_str&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date_field_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date_field_datetime&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10T00:00:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;enum_field&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;not_serialize_field&quot;</span><span class="p">:</span><span class="s2">&quot;Apples&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;list_of_entities&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;date_field_str&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date_field_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;date_field_datetime&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10T00:00:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;enum_field&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;not_serialize_field&quot;</span><span class="p">:</span><span class="s2">&quot;Apples&quot;</span>
        <span class="p">},</span>
        <span class="n">SampleEntity</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">not_serialize_field</span><span class="o">=</span><span class="s2">&quot;Pears&quot;</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><br/><br/><span></span><span class="n">nested_entity1</span> <span class="o">=</span> <span class="n">NestedEntity</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">nested_entity_dict</span><span class="p">)</span>

<span class="n">nested_entity2</span> <span class="o">=</span> <span class="n">NestedEntity</span><span class="p">(</span>
    <span class="n">inner_entity</span><span class="o">=</span><span class="n">SampleEntity</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
        <span class="n">date_field_str</span><span class="o">=</span><span class="s2">&quot;2020-05-10&quot;</span>
    <span class="p">),</span>
    <span class="n">list_of_entities</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">SampleEntity</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">99</span><span class="p">,</span> <span class="n">not_serialize_field</span><span class="o">=</span><span class="s2">&quot;Cheese&quot;</span><span class="p">),</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The nested entities behave as any other entity e.g. translating&quot;</span><span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">nested_entity1</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="TemplatedEntityBase">
<h2>TemplatedEntityBase<a class="headerlink" href="#TemplatedEntityBase" title="Permalink to this headline">¶</a></h2>
<p>Entities that are accessible via templates need extra logic to work as a classed based instances. Instruments and Stats (View column/levels) use this base class.</p>
<div class="line-block">
<div class="line">The key challenges are:</div>
<div class="line">The data model is user definable and does not need to follow any naming standards or conventions.</div>
<div class="line">Types have to be determined at run time - for example view columns.</div>
<div class="line">The properties of interest are nested in the ‘content’ property but this would introduce an cumbersome ‘middle’ layer data model.</div>
</div>
<div class="line-block">
<div class="line">The TemplatedEntityBase class subclasses the EntityBase but defines class attributes for the template name and type and a custom to_dict()</div>
<div class="line">method to serialise the properties into a ‘content’ property.</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">axiomapy.entitybase</span> <span class="kn">import</span> <span class="n">TemplatedEntityBase</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>


<span class="k">class</span> <span class="nc">SampleTemplatedEntity</span><span class="p">(</span><span class="n">TemplatedEntityBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A base class for creating templated entities</span>
<span class="sd">    The two properties _TEMPLATE_NAME and _TEMPLATE_MAPPING should be set in the sub</span>
<span class="sd">    class. The _TEMPLATE_MAPPING should be a list of tuples listing the class properties</span>
<span class="sd">    that are part of the content section and the mapping between the model and the</span>
<span class="sd">    class props within the content property like</span>
<span class="sd">    [(model_prop_name, class_prop_name ), ..]</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_TEMPLATE_NAME</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Some_Template&quot;</span>
    <span class="n">_TEMPLATE_MAPPING</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;template prop name&quot;</span><span class="p">,</span> <span class="s2">&quot;class_prop_name&quot;</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">class_prop_value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">class_prop_name</span> <span class="o">=</span> <span class="n">class_prop_value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">class_prop_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_class_prop_name</span>

    <span class="nd">@class_prop_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">class_prop_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_class_prop_name</span> <span class="o">=</span> <span class="n">value</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">entity_def</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;templateName&quot;</span><span class="p">:</span> <span class="s2">&quot;Some_Template&quot;</span><span class="p">,</span>
  <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Instance Name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;template prop name&quot;</span><span class="p">:</span> <span class="s2">&quot;prop value&quot;</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># the content properties are passed through</span>
<span class="n">entity</span> <span class="o">=</span> <span class="n">SampleTemplatedEntity</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">entity_def</span><span class="p">)</span>

<span class="c1"># they can be accessed directly in either class or data model name</span>
<span class="n">entity</span><span class="o">.</span><span class="n">class_prop_name</span> <span class="o">=</span> <span class="s2">&quot;another value&quot;</span>
<span class="n">entity</span><span class="p">[</span><span class="s1">&#39;template prop name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;different value&quot;</span>

<span class="c1"># can also access content</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">entity</span><span class="o">.</span><span class="n">content</span>

<span class="c1"># when serialising the properties are hidden at the class level</span>
<span class="c1"># and exposed under content</span>
<span class="n">entity</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>As the templated entity defines the template and therefore the data model, an attempt to initialise with a different template name will fail</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">entity_def</span><span class="p">[</span><span class="s1">&#39;templateName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;A different template name&quot;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">entity2</span> <span class="o">=</span> <span class="n">SampleTemplatedEntity</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">entity_def</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Exception:</span><span class="se">\n</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<p>For the scope of insturments the template type can be considered to be known via the user. In the case of view column stats an unknown collection of stat templates may be associated with the view. Therefore two distinct classes help create instances from dictionary. * A generic stat exists in which the template name and content properties are set at run time, it allows property access but no intellisense. * A StatFactory is used to create a relevant instance based on the template name in the
dict definition and will return a generic stat if required.</p>
</div>
<div class="section" id="Generic-Collections---Mapping-and-List">
<h2>Generic Collections - Mapping and List<a class="headerlink" href="#Generic-Collections---Mapping-and-List" title="Permalink to this headline">¶</a></h2>
<p>Some of the models define collections of entities - Portfolios, Positions, StatisticDefintions, Identifiers etc.</p>
<p>While Lists of entities are equally supported having collection type base classes offers the opportunity to add some contextual methods. The primary benefit is to provide a to_dict and clone method directly (rather than iterating and applying on each entity) subclasses of CommonBase. A secondary benefit is specifically for mapping type collections to offer the ability to reflect the applications mapping logic. As an example AnalysisDefinitions are keys on a tuple of name, owner and team.
Portfolios on Name.</p>
<p>(see also [<a class="reference external" href="https://docs.python.org/3/library/collections.abc.html">https://docs.python.org/3/library/collections.abc.html</a>])</p>
<p>Collections can receive dictionary or classes of the member instances.</p>
<div class="section" id="MutableSequence">
<h3>MutableSequence<a class="headerlink" href="#MutableSequence" title="Permalink to this headline">¶</a></h3>
<p>Lists of entites that do not map to an identifier or a ‘key’. Examples of these are Identifers, Qualifiers.</p>
</div>
<div class="section" id="MutableMapping">
<h3>MutableMapping<a class="headerlink" href="#MutableMapping" title="Permalink to this headline">¶</a></h3>
<p>A mapping (dict) type for entities that can be uniquely identified by some key e.g. Portfolios (name), Positions (clientId), AnalsysisDefinitions(name, owner, team) The subclass defines how to create a unique key from the entity instance</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">axiomapy.entitybase</span> <span class="kn">import</span> <span class="n">EntitySequence</span><span class="p">,</span> <span class="n">EntityMapping</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Iterable</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleEntityList</span><span class="p">(</span><span class="n">EntitySequence</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">]):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]]</span><span class="o">=</span><span class="p">[]):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="p">(</span><span class="n">SampleEntity</span><span class="o">.</span><span class="n">get_as_instance</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_as_iter</span><span class="p">(</span><span class="n">entities</span><span class="p">)),</span>
            <span class="n">SampleEntity</span><span class="p">,</span>
        <span class="p">)</span>
<br/><br/><br/><br/><br/><br/><br/><br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleEntityMapping</span><span class="p">(</span><span class="n">EntityMapping</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">]):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">SampleEntity</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]]</span><span class="o">=</span><span class="p">[]):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_make_key</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">),</span>
            <span class="p">(</span><span class="n">SampleEntity</span><span class="o">.</span><span class="n">get_as_instance</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">),</span>
            <span class="n">SampleEntity</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_make_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entity</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">entity</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Populating-the-collections">
<h3>Populating the collections<a class="headerlink" href="#Populating-the-collections" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">The collections are populated from iterables of instances or dictionary representations.</div>
<div class="line">In the example below the mapping contains only two entries as it is keyed on the id and two entities have an id of 0.</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_entities</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;date_field_str&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_datetime&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10T00:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enum_field&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;not_serialize_field&quot;</span><span class="p">:</span><span class="s2">&quot;Apples&quot;</span>

<span class="p">},</span>
<span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;date_field_str&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_date&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date_field_datetime&quot;</span><span class="p">:</span><span class="s2">&quot;2020-05-10T00:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;enum_field&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;not_serialize_field&quot;</span><span class="p">:</span><span class="s2">&quot;Apples&quot;</span>

<span class="p">},</span>
<span class="n">SampleEntity</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>



<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">list_of_entities</span> <span class="o">=</span> <span class="n">SampleEntityList</span><span class="p">(</span><span class="n">sample_entities</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">list_of_entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> in the sequence.&quot;</span><span class="p">)</span>

<span class="n">map_of_entities</span> <span class="o">=</span> <span class="n">SampleEntityMapping</span><span class="p">(</span><span class="n">sample_entities</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;There are </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">map_of_entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> in the sequence.&quot;</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pprint</span><span class="p">(</span><span class="n">map_of_entities</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="with_axiomaapi.html" class="btn btn-neutral float-left" title="AxiomaPy Direct Access" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../sessions.html" class="btn btn-neutral float-right" title="Sessions Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 Axioma by SimCorp.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>